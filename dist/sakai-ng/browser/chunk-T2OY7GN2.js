import{a as z,b as X}from"./chunk-W25CUWGF.js";import{Aa as P,Ia as R,Ja as U,Ka as V,La as $,ma as k,na as u,pa as B,qa as D,sa as G,ua as O,va as q,ya as H}from"./chunk-UXAPX6VQ.js";import"./chunk-S35HUXPS.js";import{b as L}from"./chunk-QIMRRRQA.js";import{Ab as m,Da as o,Ea as y,Jb as x,Oa as j,Q as I,V as E,Va as d,a as S,b as A,bb as n,jc as w,kb as r,lb as i,lc as N,mb as p,oc as T,rb as M}from"./chunk-73DFFZXF.js";var C=class a{constructor(t){this.http=t}apiUrl="http://127.0.0.1:8000/api";createAuxiliar(t){return this.http.post(`${this.apiUrl}/auxiliares`,t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})}static \u0275fac=function(l){return new(l||a)(E(L))};static \u0275prov=I({token:a,factory:a.\u0275fac,providedIn:"root"})};var h=a=>({"border-red-500":a});function W(a,t){a&1&&(r(0,"small",15),m(1," El n\xFAmero de trabajador es obligatorio. "),i())}function Y(a,t){a&1&&(r(0,"small",15),m(1," El nombre es obligatorio. "),i())}function Z(a,t){a&1&&(r(0,"small",15),m(1," Los apellidos son obligatorios. "),i())}function ee(a,t){a&1&&(r(0,"small",15),m(1," La contrase\xF1a es obligatoria y debe tener al menos 6 caracteres. "),i())}var J=class a{constructor(t,l){this.fb=t;this.auxiliarService=l;this.auxiliarForm=this.fb.group({aux_num_trabajador:["",[u.required,u.maxLength(10)]],aux_nombre:["",[u.required,u.maxLength(50)]],aux_apellidos:["",[u.required,u.maxLength(150)]],aux_password:["",[u.required,u.minLength(6)]]})}auxiliarForm;ngOnInit(){}onSubmit(){if(this.auxiliarForm.valid){let t=A(S({},this.auxiliarForm.value),{roles:["ROLE_AUXILIAR"]});this.auxiliarService.createAuxiliar(t).subscribe({next:l=>{console.log("Auxiliar creado con \xE9xito",l),this.auxiliarForm.reset()},error:l=>{console.error("Error al crear el auxiliar",l)}})}}static \u0275fac=function(l){return new(l||a)(y(H),y(C))};static \u0275cmp=j({type:a,selectors:[["app-auxiliar-management"]],decls:26,vars:20,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-4"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],["for","aux_num_trabajador"],["type","text","id","aux_num_trabajador","formControlName","aux_num_trabajador","pInputText","",1,"border-gray-300",3,"ngClass"],["class","text-red-500",4,"ngIf"],["for","aux_nombre"],["type","text","id","aux_nombre","formControlName","aux_nombre","pInputText","",1,"border-gray-300",3,"ngClass"],["for","aux_apellidos"],["type","text","id","aux_apellidos","formControlName","aux_apellidos","pInputText","",1,"border-gray-300",3,"ngClass"],["for","aux_password"],["id","aux_password","formControlName","aux_password",1,"w-full",3,"toggleMask","feedback","ngClass"],[1,"flex","justify-end"],["label","Crear Auxiliar","type","submit",3,"disabled"],[1,"text-red-500"]],template:function(l,e){if(l&1&&(r(0,"div",0)(1,"h2",1),m(2,"Crear Auxiliar"),i(),r(3,"form",2),M("ngSubmit",function(){return e.onSubmit()}),r(4,"div",3)(5,"label",4),m(6,"N\xFAmero de Trabajador"),i(),p(7,"input",5),d(8,W,2,0,"small",6),i(),r(9,"div",3)(10,"label",7),m(11,"Nombre"),i(),p(12,"input",8),d(13,Y,2,0,"small",6),i(),r(14,"div",3)(15,"label",9),m(16,"Apellidos"),i(),p(17,"input",10),d(18,Z,2,0,"small",6),i(),r(19,"div",3)(20,"label",11),m(21,"Contrase\xF1a"),i(),p(22,"p-password",12),d(23,ee,2,0,"small",6),i(),r(24,"div",13),p(25,"p-button",14),i()()()),l&2){let s,c,f,g,_,b,v,F;o(3),n("formGroup",e.auxiliarForm),o(4),n("ngClass",x(12,h,((s=e.auxiliarForm.get("aux_num_trabajador"))==null?null:s.invalid)&&((s=e.auxiliarForm.get("aux_num_trabajador"))==null?null:s.touched))),o(),n("ngIf",((c=e.auxiliarForm.get("aux_num_trabajador"))==null?null:c.invalid)&&((c=e.auxiliarForm.get("aux_num_trabajador"))==null?null:c.touched)),o(4),n("ngClass",x(14,h,((f=e.auxiliarForm.get("aux_nombre"))==null?null:f.invalid)&&((f=e.auxiliarForm.get("aux_nombre"))==null?null:f.touched))),o(),n("ngIf",((g=e.auxiliarForm.get("aux_nombre"))==null?null:g.invalid)&&((g=e.auxiliarForm.get("aux_nombre"))==null?null:g.touched)),o(4),n("ngClass",x(16,h,((_=e.auxiliarForm.get("aux_apellidos"))==null?null:_.invalid)&&((_=e.auxiliarForm.get("aux_apellidos"))==null?null:_.touched))),o(),n("ngIf",((b=e.auxiliarForm.get("aux_apellidos"))==null?null:b.invalid)&&((b=e.auxiliarForm.get("aux_apellidos"))==null?null:b.touched)),o(4),n("toggleMask",!0)("feedback",!1)("ngClass",x(18,h,((v=e.auxiliarForm.get("aux_password"))==null?null:v.invalid)&&((v=e.auxiliarForm.get("aux_password"))==null?null:v.touched))),o(),n("ngIf",((F=e.auxiliarForm.get("aux_password"))==null?null:F.invalid)&&((F=e.auxiliarForm.get("aux_password"))==null?null:F.touched)),o(2),n("disabled",e.auxiliarForm.invalid)}},dependencies:[T,w,N,P,G,k,B,D,O,q,$,V,U,R,X,z],encapsulation:2})};export{J as AuxiliarManagementComponent};
