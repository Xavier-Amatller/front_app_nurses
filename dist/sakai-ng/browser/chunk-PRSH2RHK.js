import{a as re,b as me}from"./chunk-XDMMOOYF.js";import"./chunk-DWMTPE4X.js";import"./chunk-EIGYLXLN.js";import{Aa as ne,Ia as ae,Ja as ie,Ka as le,La as oe,ma as K,na as m,pa as Q,qa as W,sa as X,ta as Y,ua as Z,va as ee,ya as te}from"./chunk-UXAPX6VQ.js";import"./chunk-S35HUXPS.js";import{b as J}from"./chunk-QIMRRRQA.js";import{Ab as o,Da as i,Ea as B,Jb as d,Oa as $,Q as H,V,Va as c,a as G,b as O,bb as l,jc as U,kb as a,lb as t,lc as z,mb as p,oc as R,rb as k}from"./chunk-73DFFZXF.js";var j=class n{constructor(r){this.http=r}apiUrl="http://127.0.0.1:8000/api";createPatient(r){return this.http.post(`${this.apiUrl}/pacientes`,r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})}static \u0275fac=function(u){return new(u||n)(V(J))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var s=n=>({"border-red-500":n});function ue(n,r){n&1&&(a(0,"small",29),o(1," El n\xFAmero de historial es obligatorio. "),t())}function se(n,r){n&1&&(a(0,"small",29),o(1," El nombre es obligatorio. "),t())}function _e(n,r){n&1&&(a(0,"small",29),o(1," Los apellidos son obligatorios. "),t())}function ge(n,r){n&1&&(a(0,"small",29),o(1," La fecha de nacimiento es obligatoria. "),t())}function fe(n,r){n&1&&(a(0,"small",29),o(1," La direcci\xF3n es obligatoria. "),t())}function ve(n,r){n&1&&(a(0,"small",29),o(1," La lengua materna es obligatoria. "),t())}function be(n,r){n&1&&(a(0,"small",29),o(1," Los antecedentes son obligatorios. "),t())}function Fe(n,r){n&1&&(a(0,"small",29),o(1," Las alergias son obligatorias. "),t())}function he(n,r){n&1&&(a(0,"small",29),o(1," El nombre del cuidador es obligatorio. "),t())}function Ce(n,r){n&1&&(a(0,"small",29),o(1," El tel\xE9fono del cuidador es obligatorio y debe tener 9 d\xEDgitos. "),t())}function ye(n,r){n&1&&(a(0,"small",29),o(1," La fecha de ingreso es obligatoria. "),t())}var pe=class n{constructor(r,u){this.fb=r;this.patientService=u;this.patientForm=this.fb.group({pac_num_historial:["",[m.required,m.pattern(/^\d+$/)]],pac_nombre:["",[m.required,m.maxLength(50)]],pac_apellidos:["",[m.required,m.maxLength(150)]],pac_fecha_nacimiento:["",m.required],pac_direccion_completa:["",[m.required,m.maxLength(255)]],pac_lengua_materna:["",[m.required,m.maxLength(45)]],pac_antecedentes:["",m.required],pac_alergias:["",m.required],pac_nombre_cuidador:["",[m.required,m.maxLength(150)]],pac_telefono_cuidador:["",[m.required,m.pattern(/^\d{9}$/)]],pac_fecha_ingreso:["",m.required]})}patientForm;ngOnInit(){}onSubmit(){if(this.patientForm.valid){let r=O(G({},this.patientForm.value),{pac_timestamp:new Date().toISOString()});this.patientService.createPatient(r).subscribe({next:u=>{console.log("Paciente creado con \xE9xito",u),this.patientForm.reset()},error:u=>{console.error("Error al crear el paciente",u)}})}}static \u0275fac=function(u){return new(u||n)(B(te),B(j))};static \u0275cmp=$({type:n,selectors:[["app-patient-management"]],decls:61,vars:48,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-4"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],["for","pac_num_historial"],["type","number","id","pac_num_historial","formControlName","pac_num_historial","pInputText","",1,"border-gray-300",3,"ngClass"],["class","text-red-500",4,"ngIf"],["for","pac_nombre"],["type","text","id","pac_nombre","formControlName","pac_nombre","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_apellidos"],["type","text","id","pac_apellidos","formControlName","pac_apellidos","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_fecha_nacimiento"],["id","pac_fecha_nacimiento","formControlName","pac_fecha_nacimiento","dateFormat","dd/mm/yy",3,"showIcon","ngClass"],["for","pac_direccion_completa"],["type","text","id","pac_direccion_completa","formControlName","pac_direccion_completa","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_lengua_materna"],["type","text","id","pac_lengua_materna","formControlName","pac_lengua_materna","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_antecedentes"],["id","pac_antecedentes","formControlName","pac_antecedentes","pInputTextarea","",1,"border-gray-300",3,"ngClass"],["for","pac_alergias"],["id","pac_alergias","formControlName","pac_alergias","pInputTextarea","",1,"border-gray-300",3,"ngClass"],["for","pac_nombre_cuidador"],["type","text","id","pac_nombre_cuidador","formControlName","pac_nombre_cuidador","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_telefono_cuidador"],["type","text","id","pac_telefono_cuidador","formControlName","pac_telefono_cuidador","pInputText","",1,"border-gray-300",3,"ngClass"],["for","pac_fecha_ingreso"],["id","pac_fecha_ingreso","formControlName","pac_fecha_ingreso","dateFormat","dd/mm/yy",3,"showIcon","ngClass"],[1,"flex","justify-end"],["label","Crear Paciente","type","submit",3,"disabled"],[1,"text-red-500"]],template:function(u,e){if(u&1&&(a(0,"div",0)(1,"h2",1),o(2,"Crear Paciente"),t(),a(3,"form",2),k("ngSubmit",function(){return e.onSubmit()}),a(4,"div",3)(5,"label",4),o(6,"N\xFAmero de Historial"),t(),p(7,"input",5),c(8,ue,2,0,"small",6),t(),a(9,"div",3)(10,"label",7),o(11,"Nombre"),t(),p(12,"input",8),c(13,se,2,0,"small",6),t(),a(14,"div",3)(15,"label",9),o(16,"Apellidos"),t(),p(17,"input",10),c(18,_e,2,0,"small",6),t(),a(19,"div",3)(20,"label",11),o(21,"Fecha de Nacimiento"),t(),p(22,"p-calendar",12),c(23,ge,2,0,"small",6),t(),a(24,"div",3)(25,"label",13),o(26,"Direcci\xF3n Completa"),t(),p(27,"input",14),c(28,fe,2,0,"small",6),t(),a(29,"div",3)(30,"label",15),o(31,"Lengua Materna"),t(),p(32,"input",16),c(33,ve,2,0,"small",6),t(),a(34,"div",3)(35,"label",17),o(36,"Antecedentes"),t(),p(37,"textarea",18),c(38,be,2,0,"small",6),t(),a(39,"div",3)(40,"label",19),o(41,"Alergias"),t(),p(42,"textarea",20),c(43,Fe,2,0,"small",6),t(),a(44,"div",3)(45,"label",21),o(46,"Nombre del Cuidador"),t(),p(47,"input",22),c(48,he,2,0,"small",6),t(),a(49,"div",3)(50,"label",23),o(51,"Tel\xE9fono del Cuidador"),t(),p(52,"input",24),c(53,Ce,2,0,"small",6),t(),a(54,"div",3)(55,"label",25),o(56,"Fecha de Ingreso"),t(),p(57,"p-calendar",26),c(58,ye,2,0,"small",6),t(),a(59,"div",27),p(60,"p-button",28),t()()()),u&2){let _,g,f,v,b,F,h,C,y,E,I,S,T,x,N,P,M,L,q,w,D,A;i(3),l("formGroup",e.patientForm),i(4),l("ngClass",d(26,s,((_=e.patientForm.get("pac_num_historial"))==null?null:_.invalid)&&((_=e.patientForm.get("pac_num_historial"))==null?null:_.touched))),i(),l("ngIf",((g=e.patientForm.get("pac_num_historial"))==null?null:g.invalid)&&((g=e.patientForm.get("pac_num_historial"))==null?null:g.touched)),i(4),l("ngClass",d(28,s,((f=e.patientForm.get("pac_nombre"))==null?null:f.invalid)&&((f=e.patientForm.get("pac_nombre"))==null?null:f.touched))),i(),l("ngIf",((v=e.patientForm.get("pac_nombre"))==null?null:v.invalid)&&((v=e.patientForm.get("pac_nombre"))==null?null:v.touched)),i(4),l("ngClass",d(30,s,((b=e.patientForm.get("pac_apellidos"))==null?null:b.invalid)&&((b=e.patientForm.get("pac_apellidos"))==null?null:b.touched))),i(),l("ngIf",((F=e.patientForm.get("pac_apellidos"))==null?null:F.invalid)&&((F=e.patientForm.get("pac_apellidos"))==null?null:F.touched)),i(4),l("showIcon",!0)("ngClass",d(32,s,((h=e.patientForm.get("pac_fecha_nacimiento"))==null?null:h.invalid)&&((h=e.patientForm.get("pac_fecha_nacimiento"))==null?null:h.touched))),i(),l("ngIf",((C=e.patientForm.get("pac_fecha_nacimiento"))==null?null:C.invalid)&&((C=e.patientForm.get("pac_fecha_nacimiento"))==null?null:C.touched)),i(4),l("ngClass",d(34,s,((y=e.patientForm.get("pac_direccion_completa"))==null?null:y.invalid)&&((y=e.patientForm.get("pac_direccion_completa"))==null?null:y.touched))),i(),l("ngIf",((E=e.patientForm.get("pac_direccion_completa"))==null?null:E.invalid)&&((E=e.patientForm.get("pac_direccion_completa"))==null?null:E.touched)),i(4),l("ngClass",d(36,s,((I=e.patientForm.get("pac_lengua_materna"))==null?null:I.invalid)&&((I=e.patientForm.get("pac_lengua_materna"))==null?null:I.touched))),i(),l("ngIf",((S=e.patientForm.get("pac_lengua_materna"))==null?null:S.invalid)&&((S=e.patientForm.get("pac_lengua_materna"))==null?null:S.touched)),i(4),l("ngClass",d(38,s,((T=e.patientForm.get("pac_antecedentes"))==null?null:T.invalid)&&((T=e.patientForm.get("pac_antecedentes"))==null?null:T.touched))),i(),l("ngIf",((x=e.patientForm.get("pac_antecedentes"))==null?null:x.invalid)&&((x=e.patientForm.get("pac_antecedentes"))==null?null:x.touched)),i(4),l("ngClass",d(40,s,((N=e.patientForm.get("pac_alergias"))==null?null:N.invalid)&&((N=e.patientForm.get("pac_alergias"))==null?null:N.touched))),i(),l("ngIf",((P=e.patientForm.get("pac_alergias"))==null?null:P.invalid)&&((P=e.patientForm.get("pac_alergias"))==null?null:P.touched)),i(4),l("ngClass",d(42,s,((M=e.patientForm.get("pac_nombre_cuidador"))==null?null:M.invalid)&&((M=e.patientForm.get("pac_nombre_cuidador"))==null?null:M.touched))),i(),l("ngIf",((L=e.patientForm.get("pac_nombre_cuidador"))==null?null:L.invalid)&&((L=e.patientForm.get("pac_nombre_cuidador"))==null?null:L.touched)),i(4),l("ngClass",d(44,s,((q=e.patientForm.get("pac_telefono_cuidador"))==null?null:q.invalid)&&((q=e.patientForm.get("pac_telefono_cuidador"))==null?null:q.touched))),i(),l("ngIf",((w=e.patientForm.get("pac_telefono_cuidador"))==null?null:w.invalid)&&((w=e.patientForm.get("pac_telefono_cuidador"))==null?null:w.touched)),i(4),l("showIcon",!0)("ngClass",d(46,s,((D=e.patientForm.get("pac_fecha_ingreso"))==null?null:D.invalid)&&((D=e.patientForm.get("pac_fecha_ingreso"))==null?null:D.touched))),i(),l("ngIf",((A=e.patientForm.get("pac_fecha_ingreso"))==null?null:A.invalid)&&((A=e.patientForm.get("pac_fecha_ingreso"))==null?null:A.touched)),i(2),l("disabled",e.patientForm.invalid)}},dependencies:[R,U,z,ne,X,K,Y,Q,W,Z,ee,oe,le,ie,ae,me,re],encapsulation:2})};export{pe as PatientManagementComponent};
